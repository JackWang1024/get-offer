<dom-module id="topic-list">
  <style>
    :host {
      display: block;
    }
  </style>
  <iron-pages attr-for-selected="data-route" selected="{{route}}">
    <template>
      <paper-menu class="list" on-iron-activate="_listTap" data-route="node-topics">
        <template is="dom-repeat" items="{{topics}}">
          <paper-item horizontal layout>
            <a data-route="topic" href="{{path(item.id)}}">{{item.title}}</a>
            <span flex></span>
            <span class="reply">{{item.reply}}</span>
          </paper-item>
        </template>
      </paper-menu>
    </template>
  </iron-pages>
</dom-module>

<script>
  (function () {
    Polymer({
      is: 'topic-list',
      properties: {
        topics: {
          type: Array,
          notify: true,
        },
        node: {
          type: String,
          notify: true
        }
      },
      ready: function() {
        console.log(this.node);
        this.topics = [{
          'title': '终于集齐BAT',
          'reply': 5,
          'lastUpdate': '2015-07-16T14:21:43.219Z',
          'id': '1'
        }, {
          'title': '你们弱爆了，我已经集齐FLAG',
          'reply': 21,
          'lastUpdate': '2015-07-16T14:12:40.219Z',
          'id': '2'
        }, {
          'title': '等H1B好烦啊啊啊',
          'reply': 3,
          'lastUpdate': '2015-07-16T13:56:42.219Z',
          'id': '3'
        }];
      },
      path: function(value) {
        return 'topic/' + value;
      }
    });
  })();
</script>
