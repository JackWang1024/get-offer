<link rel="import" href="../topic-item/topic-item.html">
<dom-module id="topic-list">
  <style>
    :host {
      display: block;
    }

    topic-item {
      cursor: pointer;
    }
  </style>
  <iron-pages attr-for-selected="data-route" selected="{{route}}">

    <template>
      <iron-ajax auto
      url='/api/heartbeat'
      params='{"alt":"json", "q":"chrome"}'
      handle-as="json"
      on-response="onGetList"
      last-response="{{nodeResponse}}"
      id="topicAjax"></iron-ajax>

      <paper-menu class="list" on-iron-activate="_onActivate"on-iron-select="_listTap" on-click="_onClick" data-route="node-topics">
        <template is="dom-repeat" items="{{nodeResponse.topics}}">
          <topic-item topic-data="{{item}}"></topic-item>
        </template>
      </paper-menu>
    </template>
  </iron-pages>

  <script src="topic-list.js"></script>
</dom-module>
